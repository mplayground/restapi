<!--#include virtual="design_header.html" -->

<link rel='stylesheet' href='/fullcalendar/fullcalendar.css' />
<script src='/fullcalendar/lib/jquery.min.js'></script>
<script src='/fullcalendar/lib/moment.min.js'></script>
<script src='/fullcalendar/fullcalendar.js'></script>

<script>
$(document).ready(function() {

    // page is now ready, initialize the calendar...

    var date = new Date();
		var d = date.getDate();
		var m = date.getMonth();
		var y = date.getFullYear();

		$('#calendar').fullCalendar({
			header : {
				left : 'prev,next today',
				center : 'title',
				right : 'month,agendaWeek,agendaDay'
			},
      dayClick: function(date, jsEvent, view) {
        console.log(view);
        // 날짜를 클릭하면 해당 날의 스케쥴로 이동
        if(view.name == "month") {
          $('#calendar').fullCalendar('gotoDate', date);
          $('#calendar').fullCalendar('changeView', 'agendaDay');
        } else {

        }
      },
      eventClick: function(calEvent, jsEvent, view) {
        // 이벤트 클릭하면 삭제하겠는지 물어봄.
        // 단 학생이 예약한 상태라면 삭제 불가? 정책 확인 필요
        $("#event_detail").html(calEvent.id);

        if(confirm("일정을 삭제하시겠습니까?")) {
          $('#calendar').fullCalendar('removeEvents', calEvent.id);
        }
      },
			events : [ {
  				title : 'All Day Event',
  				start : new Date(y, m, 1)
  			}, {
  				title : 'Long Event',
  				start : new Date(y, m, d - 5),
  				end : new Date(y, m, d - 2)
  			}, {
  				id : 999,
  				title : 'Repeating Event',
  				start : new Date(y, m, d - 3, 16, 0),
  				allDay : false
  			}, {
  				id : 999,
  				title : 'Repeating Event',
  				start : new Date(y, m, d + 4, 16, 0),
  				allDay : false
  			}, {
  				title : 'Meeting',
  				start : new Date(y, m, d, 10, 30),
  				allDay : false
  			}, {
  				title : 'Lunch',
  				start : new Date(y, m, d, 12, 0),
  				end : new Date(y, m, d, 14, 0),
  				allDay : false
  			}, {
  				title : 'Birthday Party',
  				start : new Date(y, m, d + 1, 19, 0),
  				end : new Date(y, m, d + 1, 22, 30),
  				allDay : false
  			}, {
  				title : 'Click for Google',
  				start : new Date(y, m, 28),
  				end : new Date(y, m, 29),
  				url : 'http://google.com/'
  			} ]
		});


});
</script>
<div id="event_detail"></div>

<div id='calendar' style="width:800px;height:800px;"></div>

<!--#include virtual="design_footer.html" -->
